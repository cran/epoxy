<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>epoxy in Reports</title>

<style type="text/css" charset="utf-8">

body {

margin: 0.5em auto;
padding: 0.5em;
max-width: 48em;
}
code, code * { font-family: inherit; }
@media only screen and (max-width: 768px) {
body { max-width: 100%; }
}
</style>

  
  <style type="text/css">:root {
--nc-font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
--nc-font-mono: Consolas, monaco, 'Ubuntu Mono', 'Liberation Mono', 'Courier New', Courier, monospace;

--nc-tx-1: #000000;
--nc-tx-2: #1A1A1A;
--nc-bg-1: #FFFFFF;
--nc-bg-2: #F6F8FA;
--nc-bg-3: #E5E7EB;
--nc-lk-1: #0070F3;
--nc-lk-2: #0366D6;
--nc-lk-tx: #FFFFFF;
--nc-ac-1: #79FFE1;
--nc-ac-tx: #0C4047;

--nc-d-tx-1: #ffffff;
--nc-d-tx-2: #eeeeee;
--nc-d-bg-1: #000000;
--nc-d-bg-2: #111111;
--nc-d-bg-3: #222222;
--nc-d-lk-1: #3291FF;
--nc-d-lk-2: #0070F3;
--nc-d-lk-tx: #FFFFFF;
--nc-d-ac-1: #7928CA;
--nc-d-ac-tx: #FFFFFF;
}
@media (prefers-color-scheme: dark) {
:root {
--nc-tx-1: var(--nc-d-tx-1);
--nc-tx-2: var(--nc-d-tx-2);
--nc-bg-1: var(--nc-d-bg-1);
--nc-bg-2: var(--nc-d-bg-2);
--nc-bg-3: var(--nc-d-bg-3);
--nc-lk-1: var(--nc-d-lk-1);
--nc-lk-2: var(--nc-d-lk-2);
--nc-lk-tx: var(--nc--dlk-tx);
--nc-ac-1: var(--nc-d-ac-1);
--nc-ac-tx: var(--nc--dac-tx);
}
}
* {

margin: 0;
padding: 0;
}
address,
area,
article,
aside,
audio,
blockquote,
datalist,
details,
dl,
fieldset,
figure,
form,
input,
iframe,
img,
meter,
nav,
ol,
optgroup,
option,
output,
p,
pre,
progress,
ruby,
section,
table,
textarea,
ul,
video {

margin-bottom: 1rem;
}
html,input,select,button {

font-family: var(--nc-font-sans);
}
body {

margin: 0 auto;
max-width: 750px;
padding: 2rem;
border-radius: 6px;
overflow-x: hidden;
word-break: break-word;
overflow-wrap: break-word;
background: var(--nc-bg-1);

color: var(--nc-tx-2);
font-size: 1.03rem;
line-height: 1.5;
}
::selection {

background: var(--nc-ac-1);
color: var(--nc-ac-tx);
}
h1,h2,h3,h4,h5,h6 {
line-height: 1;
color: var(--nc-tx-1);
padding-top: .875rem;
}
h1,
h2,
h3 {
color: var(--nc-tx-1);
padding-bottom: 2px;
margin-bottom: 8px;
border-bottom: 1px solid var(--nc-bg-2);
}
h4,
h5,
h6 {
margin-bottom: .3rem;
}
h1 {
font-size: 2.25rem;
}
h2 {
font-size: 1.85rem;
}
h3 {
font-size: 1.55rem;
}
h4 {
font-size: 1.25rem;
}
h5 {
font-size: 1rem;
}
h6 {
font-size: .875rem;
}
a {
color: var(--nc-lk-1);
}
a:hover {
color: var(--nc-lk-2);
}
abbr:hover {

cursor: help;
}
blockquote {
padding: 1.5rem;
background: var(--nc-bg-2);
border-left: 5px solid var(--nc-bg-3);
}
abbr {
cursor: help;
}
blockquote *:last-child {
padding-bottom: 0;
margin-bottom: 0;
}
header {
background: var(--nc-bg-2);
border-bottom: 1px solid var(--nc-bg-3);
padding: 2rem 1.5rem;

margin: -2rem calc(50% - 50vw) 2rem;

padding-left: calc(50vw - 50%);
padding-right: calc(50vw - 50%);
}
header h1,
header h2,
header h3 {
padding-bottom: 0;
border-bottom: 0;
}
header > *:first-child {
margin-top: 0;
padding-top: 0;
}
header > *:last-child {
margin-bottom: 0;
}
a button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
font-size: 1rem;
display: inline-block;
padding: 6px 12px;
text-align: center;
text-decoration: none;
white-space: nowrap;
background: var(--nc-lk-1);
color: var(--nc-lk-tx);
border: 0;
border-radius: 4px;
box-sizing: border-box;
cursor: pointer;
color: var(--nc-lk-tx);
}
a button[disabled],
button[disabled],
input[type="submit"][disabled],
input[type="reset"][disabled],
input[type="button"][disabled] {
cursor: default;
opacity: .5;

cursor: not-allowed;
}
.button:focus,
.button:enabled:hover,
button:focus,
button:enabled:hover,
input[type="submit"]:focus,
input[type="submit"]:enabled:hover,
input[type="reset"]:focus,
input[type="reset"]:enabled:hover,
input[type="button"]:focus,
input[type="button"]:enabled:hover {
background: var(--nc-lk-2);
}
a img {
margin-bottom: 0px;
}
code,
pre,
kbd,
samp {

font-family: var(--nc-font-mono);
}
code,
samp,
kbd,
pre {

background: var(--nc-bg-2);
border: 1px solid var(--nc-bg-3);
border-radius: 4px;
padding: 3px 6px;

font-size: 0.9em;
}
kbd {

border-bottom: 3px solid var(--nc-bg-3);
}
pre {
padding: 1rem 1.4rem;
max-width: 100%;
overflow: auto;
}
pre code {

background: inherit;
font-size: inherit;
color: inherit;
border: 0;
padding: 0;
margin: 0;
}
code pre {

display: inline;
background: inherit;
font-size: inherit;
color: inherit;
border: 0;
padding: 0;
margin: 0;
}
details {

padding: .6rem 1rem;
background: var(--nc-bg-2);
border: 1px solid var(--nc-bg-3);
border-radius: 4px;
}
summary {

cursor: pointer;
font-weight: bold;
}
details[open] {

padding-bottom: .75rem;
}
details[open] summary {

margin-bottom: 6px;
}
details[open]>*:last-child {

margin-bottom: 0;
}
dt {
font-weight: bold;
}
dd::before {

content: '→ ';
}
hr {

border: 0;
border-bottom: 1px solid var(--nc-bg-3);
margin: 1rem auto;
}
fieldset {
margin-top: 1rem;
padding: 2rem;
border: 1px solid var(--nc-bg-3);
border-radius: 4px;
}
legend {
padding: auto .5rem;
}
table {

border-collapse: collapse;
width: 100%
}
td,
th {
border: 1px solid var(--nc-bg-3);
text-align: left;
padding: .5rem;
}
th {
background: var(--nc-bg-2);
}
tr:nth-child(even) {

background: var(--nc-bg-2);
}
table caption {
font-weight: bold;
margin-bottom: .5rem;
}
textarea {

max-width: 100%;
}
ol,
ul {

padding-left: 2rem;
}
li {
margin-top: .4rem;
}
ul ul,
ol ul,
ul ol,
ol ol {
margin-bottom: 0;
}
mark {
padding: 3px 6px;
background: var(--nc-ac-1);
color: var(--nc-ac-tx);
}
textarea,
select,
input {
padding: 6px 12px;
margin-bottom: .5rem;
background: var(--nc-bg-2);
color: var(--nc-tx-2);
border: 1px solid var(--nc-bg-3);
border-radius: 4px;
box-shadow: none;
box-sizing: border-box;
}
img {
max-width: 100%;
}
</style>

<style type="text/css" charset="utf-8">

img { max-width: 100%; }
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: auto;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } 
code span.al { color: #ad0000; } 
code span.an { color: #5e5e5e; } 
code span.at { color: #657422; } 
code span.bn { color: #ad0000; } 
code span.bu { } 
code span.cf { color: #00769e; } 
code span.ch { color: #20794d; } 
code span.cn { color: #8f5902; } 
code span.co { color: #5e5e5e; } 
code span.cv { color: #5e5e5e; font-style: italic; } 
code span.do { color: #5e5e5e; font-style: italic; } 
code span.dt { color: #ad0000; } 
code span.dv { color: #ad0000; } 
code span.er { color: #ad0000; } 
code span.ex { } 
code span.fl { color: #ad0000; } 
code span.fu { color: #4758ab; } 
code span.im { } 
code span.in { color: #5e5e5e; } 
code span.kw { color: #00769e; } 
code span.op { color: #5e5e5e; } 
code span.ot { color: #00769e; } 
code span.pp { color: #ad0000; } 
code span.sc { color: #5e5e5e; } 
code span.ss { color: #20794d; } 
code span.st { color: #20794d; } 
code span.va { color: #111111; } 
code span.vs { color: #20794d; } 
code span.wa { color: #5e5e5e; font-style: italic; } 
</style>
<script>
// remove everything from pandoc code styles _except_ for 'code span' colors
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      if (/^code span/.test(rule.selectorText)) {
        j++;
        continue;
      }
      sheets[i].deleteRule(j);
    }
  }
})();
</script>

<style>
code, pre { overflow: auto; }
pre code, pre code:not([class]) { white-space: unset; }
</style>


</head>
<body>


<main>
<header>
<h1 id="title" class="toc-ignore">epoxy in Reports</h1>

</header>
<ul>
<li><a href="#setup" id="toc-setup">Setup</a></li>
<li><a href="#using-epoxy-chunks" id="toc-using-epoxy-chunks">Using
epoxy chunks</a></li>
<li><a href="#inline-transformers" id="toc-inline-transformers">Inline
transformers</a></li>
<li><a href="#whisker-engine" id="toc-whisker-engine">Whisker
engine</a></li>
<li><a href="#html-and-latex-chunks" id="toc-html-and-latex-chunks">HTML
and LaTeX chunks</a></li>
</ul>

<h2 id="setup">Setup</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(epoxy)</span></code></pre></div>
<p>Loading epoxy adds four new <a href="https://bookdown.org/yihui/rmarkdown/language-engines.html">knitr
engines</a>, or chunk types. Each type lets you intermix text with R
code or data (<code>expr</code> in the table below), and each is geared
toward a different output context.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 28%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Engine</th>
<th style="text-align: left;">Output Context</th>
<th style="text-align: center;">Delimiter</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>epoxy</code></td>
<td style="text-align: left;">all-purpose markdown</td>
<td style="text-align: center;"><code>{expr}</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>epoxy_html</code></td>
<td style="text-align: left;">HTML</td>
<td style="text-align: center;"><code>{{expr}}</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>epoxy_latex</code></td>
<td style="text-align: left;">LaTeX</td>
<td style="text-align: center;"><code>&lt;expr&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>whisker</code></td>
<td style="text-align: left;">all-purpose</td>
<td style="text-align: center;"><a href="https://mustache.github.io/">mustache template language</a></td>
</tr>
</tbody>
</table>
<p>⚠️ <strong>Caution:</strong> Previously, epoxy provided a
<code>glue</code> engine, but this conflicts with a similar chunk engine
by the <a href="https://glue.tidyverse.org">glue</a> package. You can
update existing documents to use the <code>epoxy</code> engine, or you
can explicitly use epoxy’s <code>glue</code> chunk by including the
following in your setup chunk.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">use_epoxy_glue_engine</span>()</span></code></pre></div>
<h2 id="using-epoxy-chunks">Using epoxy chunks</h2>
<p>To use epoxy in your R Markdown document, create a new chunk using
the engine of your choice. In that chunk, write in markdown, HTML, or
LaTeX as needed, wrapping R expressions inside the delimiters for the
epoxy chunk.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>```{epoxy}</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>The average speed of the cars was **{mean(cars$speed)} mph.**</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>But on average the distance traveled was only _{mean(cars$dist)}_.</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p>The average speed of the cars was <strong>15.4 mph</strong>. But on
average the distance traveled was only <em>42.98 ft</em>.</p>
<p><code>epoxy</code> is built around <code>glue::glue()</code>, which
evaluates the R expressions in the <code>{ }</code> and inserts the
results into the string. The chunk above is equivalent to this call to
<code>glue::glue()</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">&quot;The average speed of the cars was **{mean(cars$speed)} mph**.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="st">But on average the distance traveled was only _{mean(cars$dist)} ft_.&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The average speed of the cars was **15.4 mph**.</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; But on average the distance traveled was only _42.98 ft_.</span></span></code></pre></div>
<p>One immediate advantage of using <code>epoxy</code> instead of
<code>glue::glue()</code> is that RStudio’s autocompletion feature works
inside <code>epoxy</code> chunks! Typing <code>cars$</code> in the chunk
will suggest the columns of <code>cars</code>.</p>
<h2 id="inline-transformers">Inline transformers</h2>
<p><strong>epoxy</strong> provides inline transformations inspired by <a href="https://cli.r-lib.org/reference/inline-markup.html">cli’s inline
markup</a>. This transformer is enabled by default in
<code>epoxy()</code>, <code>epoxy_html()</code> and
<code>epoxy_latex()</code> and their respective knitr chunk engines.</p>
<p>Here’s an example using a small list containing data about a
<code>movie</code> (expand the section below to see the full code for
<code>movie</code>). We can use the inline transformer to format the
replacement text as we build up a description from this data.</p>
<details>
<summary>
Movie data
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>movie <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">1989</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Back to the Future Part II&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">budget =</span> <span class="fl">4e+07</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">domgross =</span> <span class="dv">118450002</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">imdb_rating =</span> <span class="fl">7.8</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">actors =</span> <span class="fu">c</span>(</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Michael J. Fox&quot;</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Christopher Lloyd&quot;</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Lea Thompson&quot;</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Thomas F. Wilson&quot;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">runtime =</span> 108L</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</details>
<div class="sourceCode" id="cb6"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>```{epoxy}</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>The movie {.emph {.titlecase movie$title}}</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>was released in {.strong movie$year}.</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>It earned {.dollar movie$domgross}</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>with a budget of {.dollar movie$budget},</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>and it features movie stars</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>{.and movie$actors}.</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<blockquote>
The movie <em>Back to the Future Part II</em> was released in
<strong>1989</strong>. It earned $118,450,002 with a budget of
$40,000,000, and it features movie stars Michael J. Fox, Christopher
Lloyd, Lea Thompson, and Thomas F. Wilson.
</blockquote>
<p>Read more about inline transformations in
<code>?epoxy_transform_inline</code>.</p>
<h3 id="transform-replaced-values">Transform replaced values</h3>
<p>You can use the <code>epoxy_transform_wrap()</code> with the
<code>epoxy_transform</code> chunk option to wrap the evaluated R
expression in formatting or templating text. Or you can use the pre-set
<code>epoxy_transform_bold()</code>,
<code>epoxy_transform_italic()</code>, or
<code>epoxy_transform_code()</code> transformers or with
<code>epoxy_transform()</code>.</p>
<pre><code>```{epoxy, .transformer = epoxy_transform(&quot;bold&quot;)}
All cars stopped between {min(cars$dist)} and {max(cars$dist)} feet
from a starting speed of {min(cars$speed)}---{max(cars$speed)}
```</code></pre>
<p>All cars stopped between <strong>2</strong> and <strong>120</strong>
feet from a starting speed of <strong>4</strong>—<strong>120</strong>
mph.</p>
<h3 id="epoxy-chunks-are-vectorized">epoxy chunks are vectorized</h3>
<p>Unlike inline R code, the <code>epoxy</code> chunks are vectorized.
This can be something to watch out for or it can be an advantage:</p>
<pre><code>```{epoxy}
{1:4}. &quot;{letters[1:4]}&quot; is for {c(&quot;apple&quot;, &quot;banana&quot;, &quot;coconut&quot;, &quot;donut&quot;)}
```</code></pre>
<ol type="1">
<li>“a” is for apple</li>
<li>“b” is for banana</li>
<li>“c” is for coconut</li>
<li>“d” is for donut</li>
</ol>
<p>You can collapse fields automatically using the
<code>epoxy_transform_collapse()</code> transformer. You can then choose
how vectors are collapsed by adding <code>*</code>, <code>&amp;</code>
or <code>|</code> to the end of the expression.</p>
<ul>
<li><code>*</code> collapses with commas,
e.g. <code>{letters[1:3]*}</code>.</li>
<li><code>&amp;</code> collapses with commas and adds
<code>&quot; and &quot;</code> between the last two items</li>
<li><code>|</code> collapses with commas and adds <code>&quot; or &quot;</code>
between the last two items.</li>
</ul>
<pre><code>```{epoxy, .transformer = epoxy_transform(&quot;collapse&quot;)}
- The first three letters are {letters[1:3]*}.
- When capitalized, they are {LETTERS[1:3]&amp;}.
- They&#39;re indexed by {1:3|}.
```</code></pre>
<ul>
<li>The first three letters are a, b, c.</li>
<li>When capitalized, they are A, B, and C.</li>
<li>They’re indexed by 1, 2, or 3.</li>
</ul>
<p>You can change the separator between entries and between the last
entry using the <code>sep</code>, <code>last</code> and the
<code>_and</code> and <code>_or</code> specific arguments of the
<code>epoxy_transform_collapse()</code> function.</p>
<h3 id="templating-with-epoxy-chunks">Templating with epoxy chunks</h3>
<p>It’s also possible to create a reusable template. Use the
<code>ref.label</code> chunk option to reuse a template using the values
in the <code>data</code> chunk option, which can be a list or data
frame.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">manufacturer =</span> <span class="fu">c</span>(<span class="st">&quot;Chevrolet&quot;</span>, <span class="st">&quot;Dodge&quot;</span>, <span class="st">&quot;Ford&quot;</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">c</span>(<span class="st">&quot;Malibu&quot;</span>, <span class="st">&quot;Caravan&quot;</span>, <span class="st">&quot;Expedition&quot;</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cty =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">7</span>, <span class="dv">11</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">hwy =</span> <span class="fu">c</span>(<span class="dv">27</span>, <span class="dv">24</span>, <span class="dv">17</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>```{epoxy car-name, eval=FALSE}
- A {manufacturer} {model} gets {cty} city and {hwy} highway miles per gallon.
```

```{epoxy ref.label=&quot;car-name&quot;, data = mpg}
```</code></pre>
<ul>
<li>A Chevrolet Malibu gets 19 city and 27 highway miles per
gallon.</li>
<li>A Dodge Caravan gets 7 city and 24 highway miles per gallon.</li>
<li>A Ford Expedition gets 11 city and 17 highway miles per gallon.</li>
</ul>
<h2 id="whisker-engine">Whisker engine</h2>
<p>Sometimes the <code>epoxy</code> engine doesn’t quite deliver the
template power you need. In these cases, you can use the
<code>whisker</code> engine instead.</p>
<pre><code>```{r}
contestant &lt;- list(name = &quot;R User&quot;, value = 1000, taxed = 600, in_ca = TRUE)
```

```{whisker data = contestant, echo=FALSE}
Hello {{name}}:
You have just won ${{value}}!
{{#in_ca}}
Well, ${{taxed}}, after taxes.
{{/in_ca}}
```</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>contestant <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">&quot;R User&quot;</span>, <span class="at">value =</span> <span class="dv">1000</span>, <span class="at">taxed =</span> <span class="dv">600</span>, <span class="at">in_ca =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Hello R User: You have just won $1000! Well, $600, after taxes.</p>
<h2 id="html-and-latex-chunks">HTML and LaTeX chunks</h2>
<h3 id="markdown-chunks">Markdown chunks</h3>
<p>The <code>epoxy</code> chunk engine can be used in any output format.
In practice, it works best in markdown (i.e. generally in R Markdown or
Quarto)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>```{epoxy, data = mpg}</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>- **{manufacturer}** _{model}_</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p>where it renders as:</p>
<pre><code>- **Chevrolet** _Malibu_
- **Dodge** _Caravan_
- **Ford** _Expedition_</code></pre>
<p>If you’re writing for an HTML or LaTeX output, however, you may need
to write literal HTML or LaTeX in your document. With the
<code>epoxy</code> chun, you’d need to escape any <code>{</code> or
<code>}</code> in your text by doubling them, otherwise the content
within will be treated as a template expression. To avoid this friction,
epoxy provides two additional chunk engines, <code>epoxy_html</code> for
writing raw HTML and <code>epoxy_latex</code> for writing raw LaTeX.</p>
<h3 id="raw-html-chunks">Raw HTML chunks</h3>
<p>Use the <code>epoxy_html</code> block to epoxy (glue) R and HTML
together. The output is <a href="https://pandoc.org/MANUAL.html#raw-htmltex">raw HTML</a>. By
default, expressions in these types of blocks are wrapped in
<code>{{</code> and <code>}}</code>, like whisker templates above.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>&lt;ul&gt;</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>```{epoxy_html, data = mpg}</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  &lt;li&gt;&lt;strong&gt;{{manufacturer}}&lt;/strong&gt; &lt;em&gt;{{model}}&lt;/em&gt;&lt;/li&gt;</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>```</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>&lt;/ul&gt;</span></code></pre></div>
<pre><code>&lt;ul&gt;
```{=html}
  &lt;li&gt;&lt;strong&gt;Chevrolet&lt;/strong&gt; &lt;em&gt;Malibu&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Dodge&lt;/strong&gt; &lt;em&gt;Caravan&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Ford&lt;/strong&gt; &lt;em&gt;Expedition&lt;/em&gt;&lt;/li&gt;
```
&lt;/ul&gt;</code></pre>
<p>Notice that the output is HTML but wrapped in a <a href="https://pandoc.org/MANUAL.html#extension-raw_attribute">pandoc raw
html block</a>, which tells pandoc that the content is HTML that
shouldn’t be modified<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. It also means that the output of
the chunk will <a href="https://bookdown.org/yihui/rmarkdown-cookbook/raw-content.html">only
be included in HTML documents</a>.</p>
<p>If your <code>epoxy_html</code> block is contained within another a
raw html block, or if you want to force the output to appear, you can
set the chunk option <code>html_raw = FALSE</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>````{=html}</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>&lt;ul&gt;</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>```{epoxy_html, data = mpg, html_raw = FALSE}</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  &lt;li&gt;&lt;strong&gt;{{manufacturer}}&lt;/strong&gt; &lt;em&gt;{{model}}&lt;/em&gt;&lt;/li&gt;</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>```</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>&lt;/ul&gt;</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>````</span></code></pre></div>
<p><code>epoxy_html</code> uses two custom transformers,
<code>epoxy_transform_inline()</code> and
<code>epoxy_transform_html()</code>, applying the html transformer
before the inline transformer. With <code>epoxy_transform_html()</code>
you can use <code>element.class#id</code> syntax to wrap expressions in
HTML elements (all parts are optional). Let’s use this syntax to place
manufacturer and model in <code>&lt;strong&gt;</code> and
<code>&lt;em&gt;</code> elements, each with a custom class.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>&lt;ul&gt;</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>```{epoxy_html, data = mpg}</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  &lt;li&gt;</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    {{strong.car-make manufacturer}}</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    {{em.car-model model}}</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  &lt;/li&gt;</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>```</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>&lt;/ul&gt;</span></code></pre></div>
<pre><code>&lt;ul&gt;
```{=html}
  &lt;li&gt;
    &lt;strong class=&quot;car-make&quot;&gt;Chevrolet&lt;/strong&gt;&lt;strong class=&quot;car-make&quot;&gt;Dodge&lt;/strong&gt;&lt;strong class=&quot;car-make&quot;&gt;Ford&lt;/strong&gt;
    &lt;em class=&quot;car-model&quot;&gt;Malibu&lt;/em&gt;&lt;em class=&quot;car-model&quot;&gt;Caravan&lt;/em&gt;&lt;em class=&quot;car-model&quot;&gt;Expedition&lt;/em&gt;
  &lt;/li&gt;
```
&lt;/ul&gt;</code></pre>
<p>Because <code>epoxy_transform_html()</code> is applied first,
<code>{{.uppercase manufacturer}}</code> is assumed to be a CSS class
and not an inline transformer class.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>```{epoxy_html data = mpg[1,]}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>{{.uppercase manufacturer}}</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<pre><code>```{=html}
&lt;span class=&quot;uppercase&quot;&gt;Chevrolet&lt;/span&gt;
```</code></pre>
<p>You can get access the inline formatter by adding one additional
layer of <code>{{ }}</code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>```{epoxy_html data = mpg[1,]}</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>{{span {{.uppercase manufacturer}} }}</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<pre><code>```{=html}
&lt;span&gt;CHEVROLET&lt;/span&gt;
```</code></pre>
<p>This works even if you don’t use the HTML formatter. In the last
example, <code>{{ {{.uppercase manufacturer }} }}</code> would produce
<code>CHEVROLET</code>.</p>
<h3 id="raw-latex-chunks">Raw LaTeX chunks</h3>
<p>Similarly, you can also use <code>epoxy_latex</code> chunks to epoxy
R and LaTeX together. By default, expressions in these types of chunks
are wrapped in <code>&lt;</code> and <code>&gt;</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>\begin{itemize}</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>```{epoxy_latex, data = mpg}</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>\item \textbf{&lt;manufacturer&gt;} \textit{&lt;model&gt;} gets &lt;cty&gt; city and &lt;hwy&gt; highway miles per gallon.</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>```</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>\end{itemize}</span></code></pre></div>
<p>In R Markdown knitting into a LaTeX output, this renders as:</p>
<pre><code>\begin{itemize}
```{=latex}
\item \textbf{Chevrolet} \textit{Malibu} gets 19 city and 27 highway miles per gallon.
\item \textbf{Dodge} \textit{Caravan} gets 7 city and 24 highway miles per gallon.
\item \textbf{Ford} \textit{Expedition} gets 11 city and 17 highway miles per gallon.
```
\end{itemize}</code></pre>
<p>Note that, like <code>epoxy_html</code> chunks,
<code>epoxy_latex</code> places the output in <a href="https://bookdown.org/yihui/rmarkdown-cookbook/raw-latex.html">raw
latex blocks</a>. This behavior can be disabled by setting the chunk
option <code>latex_raw = FALSE</code>.</p>
<aside id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Without the raw html block, pandoc can do unexpected
things to HTML, even if your output is HTML-friendly. If you are
explicitly writing HTML markup in your R Markdown or Quarto document,
you should probably wrap that markup in an <code>{=html}</code> block.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>

</main>



</body>
</html>
